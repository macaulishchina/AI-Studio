import{H as O,r,C as d}from"./index-okdrDDuw.js";const g="studio_config";function T(){try{const i=localStorage.getItem(g);if(i){const l=JSON.parse(i);return{freeModelsOnly:l.freeModelsOnly??!1,customModelsEnabled:l.customModelsEnabled??!0,docModelsOnly:l.docModelsOnly??!1,docModelIds:l.docModelIds??[],modelBlacklist:l.modelBlacklist??[],freeToolRounds:l.freeToolRounds??50,paidToolRounds:l.paidToolRounds??3,maxAutoContinues:l.maxAutoContinues??3,chatModelSourceFilter:l.chatModelSourceFilter??"all",modelCapabilities:l.modelCapabilities??{}}}}catch{}return{freeModelsOnly:!1,customModelsEnabled:!0,docModelsOnly:!1,docModelIds:[],modelBlacklist:[],freeToolRounds:50,paidToolRounds:3,maxAutoContinues:3,chatModelSourceFilter:"all",modelCapabilities:{}}}function E(i){localStorage.setItem(g,JSON.stringify(i))}const I=O("studioConfig",()=>{const i=T(),l=r(i.freeModelsOnly),o=r(i.customModelsEnabled),c=r(i.docModelsOnly),u=r(i.docModelIds),m=r(i.modelBlacklist),h=r(i.freeToolRounds),x=r(i.paidToolRounds),p=r(i.maxAutoContinues),y=r(i.chatModelSourceFilter),n=r(i.modelCapabilities);function a(){E({freeModelsOnly:l.value,customModelsEnabled:o.value,docModelsOnly:c.value,docModelIds:u.value,modelBlacklist:m.value,freeToolRounds:h.value,paidToolRounds:x.value,maxAutoContinues:p.value,chatModelSourceFilter:y.value,modelCapabilities:n.value})}d(l,a),d(o,a),d(c,a),d(u,a,{deep:!0}),d(m,a,{deep:!0}),d(h,a),d(x,a),d(p,a),d(y,a),d(n,a,{deep:!0});function w(e){const t=(e.name||e.id).toLowerCase();if(m.value.some(s=>t.includes(s.toLowerCase())))return!1;if(l.value){const s=(e.pricing_note||"").toLowerCase();if(!(s==="x0"||s.startsWith("x0 ")||(e.premium_multiplier??0)===0))return!1}if(c.value&&u.value.length>0&&e.api_backend==="copilot"){const s=(e.id||e.name||"").replace(/^copilot:/,"").toLowerCase();if(!u.value.includes(s))return!1}return!0}function v(e){u.value=Array.from(new Set((e||[]).map(t=>t.toLowerCase())))}function C(e){const t=(e.pricing_note||"").toLowerCase();return t==="x0"||t.startsWith("x0 ")||(e.premium_multiplier??0)===0?h.value:x.value}function M(e){const t=e.trim();t&&!m.value.includes(t)&&m.value.push(t)}function _(e){m.value=m.value.filter(t=>t!==e)}function F(e,t){const f={...n.value[e]||{}};t.max_context_tokens&&(f.max_input_tokens=t.max_context_tokens),t.rate_limit&&(f.rate_limit_info=t.rate_limit),t.rate_limit_seconds&&(f.rate_limit_seconds=t.rate_limit_seconds),f.last_error=t.summary||t.error_type||"",f.last_error_at=new Date().toISOString(),n.value[e]=f}function S(e){return n.value[e]||{}}function A(e,t,s){n.value[e]||(n.value[e]={}),n.value[e][t]=s}function b(e,t){var f;return((f=n.value[e])==null?void 0:f.max_input_tokens)||t}return{freeModelsOnly:l,customModelsEnabled:o,docModelsOnly:c,docModelIds:u,modelBlacklist:m,freeToolRounds:h,paidToolRounds:x,maxAutoContinues:p,chatModelSourceFilter:y,modelCapabilities:n,isModelVisible:w,getToolRounds:C,addToBlacklist:M,removeFromBlacklist:_,updateModelCapability:F,getModelCapability:S,setModelCapability:A,getEffectiveMaxInput:b,setDocModels:v}}),R={github:'<path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>',copilot:'<path fill="currentColor" d="M8 0l2.09 5.67L16 8l-5.91 2.33L8 16l-2.09-5.67L0 8l5.91-2.33z"/>',openai:'<rect rx="3" width="16" height="16" fill="#10A37F"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="9" font-weight="700" font-family="system-ui,-apple-system,sans-serif">AI</text>',anthropic:'<rect rx="3" width="16" height="16" fill="#D4A574"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">A</text>',google:'<rect rx="3" width="16" height="16" fill="#4285F4"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">G</text>',deepseek:'<rect rx="3" width="16" height="16" fill="#4D6BFE"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">D</text>',mistralai:'<rect rx="3" width="16" height="16" fill="#F7D046"/><text x="8" y="11.5" text-anchor="middle" fill="#333" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">M</text>',meta:'<rect rx="3" width="16" height="16" fill="#0668E1"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">M</text>',microsoft:'<rect rx="3" width="16" height="16" fill="#00A4EF"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="9" font-weight="700" font-family="system-ui,-apple-system,sans-serif">MS</text>',xai:'<rect rx="3" width="16" height="16" fill="#1DA1F2"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">X</text>',cohere:'<rect rx="3" width="16" height="16" fill="#39594D"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">C</text>',ai21:'<rect rx="3" width="16" height="16" fill="#6C63FF"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="8" font-weight="700" font-family="system-ui,-apple-system,sans-serif">21</text>',qwen:'<rect rx="3" width="16" height="16" fill="#615DEA"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">Q</text>',zhipu:'<rect rx="3" width="16" height="16" fill="#3B82F6"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">Z</text>',kimi:'<rect rx="3" width="16" height="16" fill="#7C3AED"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">K</text>',siliconflow:'<rect rx="3" width="16" height="16" fill="#6366F1"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="9" font-weight="700" font-family="system-ui,-apple-system,sans-serif">SF</text>'};function k(i,l=14){const o=R[i];return o?`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="${l}" height="${l}" style="vertical-align:middle">${o}</svg>`:""}function z(i,l="#666",o=14){const c=i.charAt(0).toUpperCase();return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="${o}" height="${o}" style="vertical-align:middle"><rect rx="3" width="16" height="16" fill="${l}"/><text x="8" y="11.5" text-anchor="middle" fill="#fff" font-size="10" font-weight="700" font-family="system-ui,-apple-system,sans-serif">${c}</text></svg>`}function D(i,l,o=14){const c=k(i,o);if(c)return c;const u=(l||i||"?").charAt(0);return z(u,"#666",o)}export{D as g,I as u};
