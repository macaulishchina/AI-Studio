import{H as p,r as o}from"./index-okdrDDuw.js";import{p as u}from"./index-Bz-GYz9Z.js";const w=p("project",()=>{const a=o([]),n=o(null),r=o(!1);async function s(t){r.value=!0;try{const{data:e}=await u.list(t);a.value=e}finally{r.value=!1}}async function i(t){r.value=!0;try{const{data:e}=await u.get(t);return n.value=e,e}finally{r.value=!1}}async function f(t){const{data:e}=await u.create(t);return a.value.unshift(e),e}async function v(t,e){const{data:c}=await u.update(t,e);n.value=c;const l=a.value.findIndex(j=>j.id===t);return l>=0&&(a.value[l]=c),c}async function d(t){var e;await u.delete(t),a.value=a.value.filter(c=>c.id!==t),((e=n.value)==null?void 0:e.id)===t&&(n.value=null)}return{projects:a,currentProject:n,loading:r,fetchProjects:s,fetchProject:i,createProject:f,updateProject:v,deleteProject:d}});export{w as u};
